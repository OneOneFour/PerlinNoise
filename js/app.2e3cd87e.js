(function(t){function e(e){for(var o,i,s=e[0],c=e[1],u=e[2],p=0,d=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);l&&l(e);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(o=!1)}o&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},r={app:0},a=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/PerlinNoise/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"150b":function(t,e,n){},"199c":function(t,e,n){"use strict";(function(t){n("d81d");var o=n("dfe7"),r=n("fe17");e["a"]={name:"App",components:{ControlPane:o["a"]},data:function(){return{loading:!0,showDetail:!1,perlinResolution:10,octaves:[{pixelsPerCorner:100,weight:1}],noise:[],renderWorker:void 0,width:void 0,height:void 0}},mounted:function(){var t=this;this.ctx=this.$refs.perlincanvas.getContext("2d"),this.width=window.innerWidth,this.height=window.innerHeight,this.$nextTick((function(){t.init()}))},methods:{recalculate:function(t){var e=t.perlinResolution,n=t.octaves;this.perlinResolution=e,this.octaves=n,this.init()},init:function(){var e=this;this.loading=!0,this.renderWorker=new Worker(t,void 0),this.renderWorker.postMessage({width:this.width,height:this.height,perlinResolution:this.perlinResolution,octaves:this.octaves}),this.renderWorker.addEventListener("message",(function(t){var n=t.data;e.noise=n,e.loading=!1,e.renderWorker.terminate(),e.repaint()}))},repaint:function(){this.ctx.clearRect(0,0,this.width,this.height);for(var t=0;t<this.noise.length;t++)for(var e=0;e<this.noise[t].length;e++)this.ctx.fillStyle=r["a"].map(this.noise[t][e]),this.ctx.fillRect(t*this.perlinResolution,e*this.perlinResolution,this.perlinResolution,this.perlinResolution)},cancelJob:function(){this.renderWorker.terminate(),this.loading=!1}}}}).call(this,n("7b51"))},"29a1":function(t,e,n){},5097:function(t,e,n){"use strict";n("f7e6")},5567:function(t,e,n){"use strict";n("d6db")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("canvas",{ref:"perlincanvas",attrs:{width:t.width,height:t.height}}),n("control-pane",{attrs:{showDetail:t.showDetail},on:{regenerate:t.recalculate,"toggle-detail":function(e){t.showDetail=!t.showDetail},repaint:t.repaint}}),t.loading?n("p",{staticClass:"loading-pane"},[t._v("Loading... "),n("button",{on:{click:t.cancelJob}},[t._v("Cancel")])]):t._e()],1)},a=[],i=n("199c"),s=i["a"],c=(n("034f"),n("2877")),u=Object(c["a"])(s,r,a,!1,null,null,null),l=u.exports,p=(n("150b"),n("fe17"));o["a"].config.productionTip=!1,o["a"].directive("click-outside",{bind:function(t,e,n){t.clickOutside=function(o){o.target===t||t.contains(o.target)||n.context[e.expression](o)},document.body.addEventListener("click",t.clickOutside)},unbind:function(t){document.body.removeEventListener("click",t.clickOutside)}}),new o["a"]({render:function(t){return t(l)}}).$mount("#app"),window.ColorStore=p["a"]},"7b51":function(t,e,n){t.exports=n.p+"js/0.9a8a8ae4.worker.js"},"85ec":function(t,e,n){},"87e6":function(t,e,n){"use strict";n("29a1")},"8fd9":function(t,e,n){"use strict";n("e42f")},9944:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));n("99af"),n("a9e3"),n("aff5"),n("e6e1"),n("d3b7"),n("25f0"),n("4d90");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.min(Math.max(t,e),n)}function r(t,e){return(1-Math.exp(-t/e))*(1+Math.exp(-.5/e))/((1-Math.exp(-1/e))*(1+Math.exp(-(t-.5)/e)))}function a(t){if(7!=t.length)throw Error("Not a valid 8bit hex code!");return{r:parseInt(t[1]+t[2],16),g:parseInt(t[3]+t[4],16),b:parseInt(t[5]+t[6],16)}}function i(t,e,n){return"#".concat(Math.round(t).toString(16).padStart(2,"0")).concat(Math.round(e).toString(16).padStart(2,"0")).concat(Math.round(n).toString(16).padStart(2,"0"))}function s(t,e){return t.sort((function(t,e){return t.val-e.val})),function(n){for(var s=o(n,-1,1),c=0;c<t.length-1;c++)if(t[c].val<s&&s<=t[c+1].val){var u=(s-t[c].val)/(t[c+1].val-t[c].val),l=a(t[c].color),p=l.r,d=l.g,h=l.b,f=a(t[c+1].color),v=f.r,m=f.g,b=f.b,g=r(u,e*e);return i(p+g*(v-p),d+g*(m-d),h+g*(b-h))}return t[0].color}}},d6db:function(t,e,n){},dfe7:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control_pane"},[t.showColor?n("color-map-picker",t._g({},t.$listeners)):t._e(),n("div",{staticClass:"control-group"},[n("h3",{staticClass:"control-pane-title"},[t._v("Perlin Noise Generator")]),n("button",{on:{click:t.emitRegenerate}},[t._v(" Regenerate ")]),n("button",{on:{click:function(e){return t.$emit("toggle-detail")}}},[t._v(" "+t._s(t.showDetail?"Hide":"Show")+" detail ")]),n("button",{on:{click:function(e){t.showColor=!t.showColor}}},[t._v(" "+t._s(t.showColor?"Hide":"Show")+" Colormap ")])]),n("div",{staticClass:"resolution-group"},[n("p",{staticClass:"control-text"},[t._v("Resolution: "+t._s(t.perlinResolution)+" pixels")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.perlinResolution,expression:"perlinResolution",modifiers:{number:!0}}],attrs:{type:"range",min:"1",max:"50",step:"1"},domProps:{value:t.perlinResolution},on:{__r:function(e){t.perlinResolution=t._n(e.target.value)},blur:function(e){return t.$forceUpdate()}}})]),n("tab-selector",{attrs:{tabs:t.getComponentArray,names:["Manual","Auto"]},on:{changetab:t.tabChanged}})],1)},r=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"octave-manual"},[t._l(t.manualState.octaves,(function(e,o){return n("div",{key:o,staticClass:"octave-group"},[n("p",{staticClass:"control-text"},[t._v("Pixels per Corner: "+t._s(e.pixelsPerCorner)+" pixels")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.pixelsPerCorner,expression:"octave.pixelsPerCorner",modifiers:{number:!0}}],attrs:{type:"range",min:"5",max:"200",step:"5"},domProps:{value:e.pixelsPerCorner},on:{__r:function(n){t.$set(e,"pixelsPerCorner",t._n(n.target.value))},blur:function(e){return t.$forceUpdate()}}}),n("p",{staticClass:"control-text"},[t._v("Weight:")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.weight,expression:"octave.weight",modifiers:{number:!0}}],attrs:{type:"number",min:"0.01",max:"2",step:"0.1"},domProps:{value:e.weight},on:{input:function(n){n.target.composing||t.$set(e,"weight",t._n(n.target.value))},blur:function(e){return t.$forceUpdate()}}}),t.manualState.octaves.length>1?n("button",{on:{click:function(e){return t.deleteOctave(o)}}},[t._v("X")]):t._e()])})),n("button",{on:{click:t.addOctave}},[t._v(" + ")])],2)},i=[],s=(n("a434"),n("9944")),c={octaves:[{pixelsPerCorner:100,weight:1}],addOctave:function(t,e){this.octaves.push({pixelsPerCorner:t,weight:e})},deleteOctave:function(t){this.octaves.splice(t,1)}},u={persistance:.25,lacunarity:2,maxFeatureSize:200,numOctaves:4,get octaves(){for(var t=[],e=0;e<this.numOctaves;e++)t.push({pixelsPerCorner:Object(s["a"])(this.maxFeatureSize/Math.pow(this.lacunarity,e),1),weight:1*Math.pow(this.persistance,e)});return t}},l={debug:!0,autoState:u,manualState:c,mode:"manual",get octaves(){return"auto"==this.mode?this.autoState.octaves:this.manualState.octaves},setMode:function(t){this.mode=t}},p={data:function(){return{manualState:l.manualState}},methods:{deleteOctave:function(t){l.manualState.deleteOctave(t)},addOctave:function(){l.manualState.addOctave(100,1)}}},d=p,h=n("2877"),f=Object(h["a"])(d,a,i,!1,null,null,null),v=f.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"colormap-picker",style:{width:10+t.canvasWidth+"px"}},[n("h3",[t._v("Colourmap Picker")]),n("span",[t._v("Blend")]),n("input",{attrs:{type:"range",min:"0",max:"1",step:"0.05"},domProps:{value:t.colorstore.blend},on:{input:t.setBlend}}),n("div",{ref:"colorbox",staticClass:"colorbox",class:{"can-place":t.validPosition},on:{mousemove:t.updatePosition,mouseenter:function(e){t.showHint=!0},mouseleave:function(e){t.showHint=!1},click:t.createStop}},[n("div",{staticClass:"stop-map"},[t.showHint&&t.validPosition?n("color-stop",{attrs:{val:t.curMousePoint,color:t.colorstore.map(t.curMousePoint),ghost:""}}):t._e(),t._l(t.colorstore.stops,(function(e,o){return n("color-stop",{key:e.val,attrs:{val:e.val,color:e.color},on:{"update-color":function(e){return t.changeColor(o,e)}}})}))],2),n("canvas",{ref:"colorband",staticClass:"colorband",attrs:{width:t.canvasWidth,height:t.canvasHeight}})])])},b=[],g=(n("d81d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"color-stop",class:{ghost:t.ghost},style:{backgroundColor:t.curColor,left:t.stopLeft},on:{click:function(e){e.stopPropagation(),t.showPicker=!0}}},[t.showPicker?n("chrome-picker",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hidePicker,expression:"hidePicker"}],staticClass:"picker",attrs:{value:t.curColor},on:{input:t.updateColor}}):t._e()],1)}),x=[],_=(n("a9e3"),n("c345")),w={props:{color:{type:String,required:!0},val:{type:Number,required:!0},ghost:{type:Boolean}},data:function(){return{tmpColor:void 0,showPicker:!1}},methods:{hidePicker:function(){this.showPicker=!1,this.$emit("update-color",this.curColor)},updateColor:function(t){var e=t.hex;this.tmpColor=e}},computed:{stopLeft:function(){return"".concat(50*(this.val+1),"%")},curColor:function(){return"undefined"!==typeof this.tmpColor?this.tmpColor:this.color}},components:{"chrome-picker":_["Chrome"]}},C=w,S=(n("5097"),Object(h["a"])(C,g,x,!1,null,null,null)),y=S.exports,P=n("fe17"),k={components:{ColorStop:y},data:function(){return{colorstore:P["a"],canvasWidth:400,canvasHeight:40,ctx:null,curMousePoint:0,showHint:!1}},mounted:function(){this.ctx=this.$refs.colorband.getContext("2d"),this.repaint()},computed:{validPosition:function(){for(var t=30/this.canvasWidth,e=!0,n=0;n<P["a"].stops.length;n++)e&=Math.abs(this.curMousePoint-P["a"].stops[n].val)>=t;return e}},methods:{repaint:function(){requestAnimationFrame(this.repaint),this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight);for(var t=0;t<=this.canvasWidth;t++){var e=2*t/this.canvasWidth-1;this.ctx.fillStyle=this.colorstore.map(e),this.ctx.fillRect(t,0,1,this.canvasHeight)}},setBlend:function(t){var e=t.target;P["a"].setBlend(e.value),this.$emit("repaint")},changeColor:function(t,e){P["a"].updateStopColor(t,e),this.$emit("repaint")},updatePosition:function(t){var e=t.clientX,n=2*(e-this.$refs.colorbox.getBoundingClientRect().left)/this.$refs.colorbox.getBoundingClientRect().width-1;this.curMousePoint=Object(s["a"])(n,-1,1)},createStop:function(){this.validPosition&&P["a"].addStop(this.curMousePoint)}}},O=k,$=(n("8fd9"),Object(h["a"])(O,m,b,!1,null,null,null)),M=$.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"octave-auto"},[n("div",{staticClass:"maxfeatureSize"},[n("label",[t._v("Max Feature Size ("+t._s(t.autoState.maxFeatureSize)+")")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.autoState.maxFeatureSize,expression:"autoState.maxFeatureSize",modifiers:{number:!0}}],attrs:{type:"range",min:"50",max:"500",step:"25",value:"200"},domProps:{value:t.autoState.maxFeatureSize},on:{__r:function(e){t.$set(t.autoState,"maxFeatureSize",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),n("div",{staticClass:"maxfeatureSize"},[n("label",[t._v("Number of Octaves ("+t._s(t.autoState.numOctaves)+")")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.autoState.numOctaves,expression:"autoState.numOctaves",modifiers:{number:!0}}],attrs:{type:"range",min:"1",max:"10",step:"1",value:"4"},domProps:{value:t.autoState.numOctaves},on:{__r:function(e){t.$set(t.autoState,"numOctaves",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),n("div",{staticClass:"falloff"},[n("label",[t._v("Lacunarity ")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.autoState.lacunarity,expression:"autoState.lacunarity",modifiers:{number:!0}}],attrs:{type:"number",min:"1",max:"5",step:"0.25",value:"2"},domProps:{value:t.autoState.lacunarity},on:{input:function(e){e.target.composing||t.$set(t.autoState,"lacunarity",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),n("div",{staticClass:"persistance"},[n("label",[t._v("Persistance ")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.autoState.persistance,expression:"autoState.persistance",modifiers:{number:!0}}],attrs:{type:"number",min:"0",max:"3",step:"0.25",value:"1"},domProps:{value:t.autoState.persistance},on:{input:function(e){e.target.composing||t.$set(t.autoState,"persistance",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])},j=[],N={data:function(){return{autoState:l.autoState}}},E=N,W=Object(h["a"])(E,R,j,!1,null,null,null),z=W.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-selector"},[n("div",{staticClass:"tab-picker"},t._l(t.names,(function(e,o){return n("div",{key:o,staticClass:"tab-picker-item",class:{"tab-active":t.current==o},on:{click:function(e){return t.changeTab(o)}}},[t._v(t._s(e))])})),0),n(this.currentTab,{tag:"component"})],1)},H=[],T={props:{tabs:{type:Array,required:!0},names:{type:Array,required:!0},default:{type:Number,default:0}},data:function(){return{current:0}},computed:{currentTab:function(){return this.tabs[this.current]}},methods:{changeTab:function(t){this.current=t,this.$emit("changetab",this.names[t])}}},A=T,B=(n("5567"),Object(h["a"])(A,F,H,!1,null,null,null)),L=B.exports,D={data:function(){return{perlinResolution:10,showColor:!1,colors:"#ff0000"}},components:{TabSelector:L,ColorMapPicker:M},props:{showDetail:{type:Boolean}},computed:{getComponentArray:function(){return[v,z]}},methods:{emitRegenerate:function(){this.$emit("regenerate",{octaves:l.octaves,perlinResolution:this.perlinResolution})},tabChanged:function(t){l.setMode(t.toLowerCase())}}},U=D,I=(n("87e6"),Object(h["a"])(U,o,r,!1,null,null,null));e["a"]=I.exports},e42f:function(t,e,n){},f7e6:function(t,e,n){},fe17:function(t,e,n){"use strict";n("d81d"),n("dca8");var o=n("9944"),r={blend:1,stops:[{val:-1,color:"#0000ff"},{val:1,color:"#ff0000"}]};r.map=Object(o["b"])(r.stops,r.blend);var a={get blend(){return r.blend},get stops(){return r.stops},get map(){return r.map},setBlend:function(t){r.blend=t,r.map=Object(o["b"])(r.stops,r.blend)},updateStopColor:function(t,e){r.stops[t].color=e,r.map=Object(o["b"])(r.stops,r.blend)},addStop:function(t,e){"undefined"===typeof e?r.stops.push({val:t,color:this.map(t)}):r.stops.push({val:t,color:e})}};Object.freeze(a),e["a"]=a}});
//# sourceMappingURL=app.2e3cd87e.js.map